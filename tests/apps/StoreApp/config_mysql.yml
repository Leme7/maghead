---
cli:
  bootstrap: vendor/autoload.php
schema:
  auto_id: true
  base_model: \Maghead\Runtime\BaseModel
  base_collection: \Maghead\Runtime\BaseCollection
  paths:
    - tests
instance:
  local:
    dsn: 'mysql:host=localhost'
    user: root
    driver: mysql
    password: null
    query_options: {  }
    connection_options:
      1002: 'SET NAMES utf8'
sharding:
  mappings:
    M_store_id:
      tables: [orders]
      key: store_id
      shards: [s1, s2, s3]
      chunks: { c1: { shard: s1 }, c2: { shard: s2 }, c3: { shard: s3 } }
      hash: { target1: c1, target2: c2, target3: c3 }
  shards:
    s1:
      write: { node1: { weight: 0.1 } }
      read: { node1: { weight: 0.1 } }
    s2:
      write: { node2: { weight: 0.1 } }
      read: { node2: { weight: 0.1 } }
    s3:
      write: { node3: { weight: 0.1 } }
      read: { node3: { weight: 0.1 } }
data_source:
  master: node_master
  clusters:
    cluster1:
      driver: mysql
      user: root
      password: null
      query_options: { }
      connection_options: { 1002: 'SET NAMES utf8' }
      read:
      - localhost
      write:
      - localhost
  nodes:
    node_master:
      driver: mysql
      user: root
      password: null
      database: testing
      dsn: 'mysql:host=localhost;dbname=testing'
      query_options: { }
      connection_options: { 1002: 'SET NAMES utf8' }
    node1:
      driver: mysql
      user: root
      database: s1
      password: null
      query_options: {  }
      dsn: 'mysql:host=localhost;dbname=s1'
      connection_options: { 1002: 'SET NAMES utf8' }
    node2:
      dsn: 'mysql:host=localhost;dbname=s2'
      user: root
      driver: mysql
      password: null
      database: s2
      query_options: {  }
      connection_options: { 1002: 'SET NAMES utf8' }
    node3:
      driver: mysql
      user: root
      password: null
      database: s3
      query_options: {  }
      dsn: 'mysql:host=localhost;dbname=s3'
      connection_options: { 1002: 'SET NAMES utf8' }
